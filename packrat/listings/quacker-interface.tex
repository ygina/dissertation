\begin{lstfloat}[t]
\begin{lstlisting}[language=Rust]
struct Packrat {
    /// Serialize a Packrat message to send
    fn send_init(params: ...) -> SendBuf;
    fn send_quack(); -> SendBuf;
    fn send_quack_rateless(m: usize); -> SendBuf;
    /// Handle the incoming message and return the
    /// payload if it is a `Retransmit` message.
    fn recv_payload(buf: RecvBuf) -> &[u8]
    /// Manage quACK state
    fn is_ready() -> bool;
    fn insert(id: u32) -> bool;
    fn reset();
}
\end{lstlisting}
\captionof{lstlisting}{Pseudocode interface for the \texttt{packrat} library.
 The library consolidates shared functionality at the client for sending
 quACKs. The client is responsible for reading and writing to the actual UDP
 socket for the adjacent connection.}
\label{lst:packrat:quacker-interface}
\end{lstfloat}